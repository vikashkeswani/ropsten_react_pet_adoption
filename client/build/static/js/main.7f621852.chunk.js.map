{"version":3,"sources":["store/adoptSlice.js","components/Adopters.js","components/PetList.js","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["initWeb3","createAsyncThunk","a","thunkAPI","console","log","dispatch","Web3","givenProvider","web3","enable","eth","net","getId","networkId","network","Adoption","networks","contract","Contract","abi","address","getAccounts","addresses","loadAdopters","data","methods","getAdopters","call","adopterList","adoptPet","petIndex","getState","adoptReducer","adopt","send","from","result","adopterAddress","removeAdopt","adoptSlice","createSlice","name","initialState","adopters","adoptInProgress","adoptError","adoptErrorMessage","adoptersLoading","reducers","extraReducers","fulfilled","state","action","payload","pending","rejected","error","message","reducer","actions","Adopters","adoptersList","useSelector","id","map","list","index","PetList","useEffect","setTimeout","useDispatch","ID","className","src","style","color","petListJson","item","border","display","width","padding","margin","alt","picture","breed","age","location","type","onClick","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f621852.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport Adoption from '../contracts/Adoption.json' ;\r\nimport Web3 from \"web3\";\r\n\r\nexport const initWeb3 = createAsyncThunk(\r\n    \"InitWeb3\",\r\n    async(a,thunkAPI) => {\r\n        console.log(\"in init web3 = \",a) ;\r\n        console.log(\"in init web3 = \",thunkAPI) ;\r\n        console.log(\"in init web3 Thunk Dispatch = \", thunkAPI.dispatch) ;\r\n         \r\n        try{\r\n          if(Web3.givenProvider){\r\n            const web3 = new Web3(Web3.givenProvider) ;\r\n            await Web3.givenProvider.enable() ; \r\n\r\n            const networkId = await web3.eth.net.getId() ;\r\n            const network = Adoption.networks[networkId] ;\r\n            const contract = new web3.eth.Contract(Adoption.abi,network.address) ;\r\n            const addresses = await web3.eth.getAccounts() ;\r\n            thunkAPI.dispatch(loadAdopters({\r\n                contract: contract,\r\n                address:addresses[0]\r\n            })) ;\r\n\r\n            return {\r\n                web3,\r\n                contract:contract,\r\n                address:addresses[0]\r\n            } ; \r\n        }else{\r\n             console.log(\"Error in loading Web3\") ;\r\n     }\r\n\r\n    }\r\n    catch(error){\r\n        console.log(\"Error in loading Block\",error) ;\r\n    }\r\n\r\n    }\r\n)\r\n\r\nexport const loadAdopters = createAsyncThunk(\r\n    \"LoadAdopters\",\r\n    async(data, thunkAPI) => {\r\n         const adopterList = await data.contract.methods.getAdopters().call() ;\r\n         return adopterList ;\r\n    }\r\n)\r\n\r\nexport const adoptPet = createAsyncThunk(\r\n    \"AdoptPet\",\r\n    async(petIndex, thunkAPI) => {\r\n         const contract = thunkAPI.getState().adoptReducer.contract ;\r\n         const address = thunkAPI.getState().adoptReducer.address ;\r\n\r\n        // const {contract , address} = thunkAPI.getState().adoptReducer ;\r\n\r\n         const result = await contract.methods.adopt(petIndex).send({from: address}) ;\r\n         console.log(\"after adopt result = \",result) ;\r\n\r\n         return {\r\n             adopterAddress: result.from,\r\n             petIndex: petIndex\r\n         };\r\n    }\r\n);\r\n\r\nexport const removeAdopt = createAsyncThunk(\r\n    \"RemoveAdopt\",\r\n    async(petIndex,thunkAPI) => {\r\n        const contract = thunkAPI.getState().adoptReducer.contract ;\r\n        const address = thunkAPI.getState().adoptReducer.address ;\r\n\r\n        const result = await contract.methods.removeAdopt(petIndex).send({from:address}) ;\r\n        console.log(\"After Remove Adopt Result = \",result) ;\r\n        return {\r\n            adopterAddress:result.from,\r\n            petIndex:petIndex\r\n        };\r\n\r\n    });\r\n\r\nconst adoptSlice = createSlice({\r\n    name: \"AdoptSlice\",\r\n    initialState:{\r\n        web3:null,\r\n        contract:null,\r\n        address:null,\r\n        adopters: [],\r\n        adoptInProgress:false,\r\n        adoptError:false,\r\n        adoptErrorMessage:\"\",\r\n        adoptersLoading:false,\r\n    },\r\n    reducers:{\r\n        adopt:() => {\r\n\r\n        }\r\n    },\r\n    extraReducers:{\r\n        [initWeb3.fulfilled]: (state,action) => {\r\n            state.web3 = action.payload.web3 ;\r\n            state.contract = action.payload.contract ;\r\n            state.address = action.payload.address ;\r\n        },\r\n        [loadAdopters.fulfilled]: (state, action) => {\r\n            state.adopters = action.payload \r\n        },        \r\n        [adoptPet.fulfilled]: (state,action)=>{\r\n            console.log(\"Adopt pet fullfile state = \",state);\r\n            console.log(\"Adopt pet fullfile action = \",action);\r\n            state.adopters[action.payload.petIndex] = action.payload.adopterAddress\r\n            state.adoptInProgress = false;\r\n            state.adoptError = false\r\n        },\r\n        [adoptPet.pending]: (state,action)=>{\r\n            console.log(\"Adopt pet pending state = \",state);\r\n            console.log(\"Adopt pet pending action = \",action);\r\n            state.adoptInProgress = true;\r\n        },\r\n        [adoptPet.rejected]: (state,action)=>{\r\n            console.log(\"Adopt pet rejected state = \",state);\r\n            console.log(\"Adopt pet rejected action = \",action);\r\n            state.adoptInProgress = false;\r\n            state.adoptError = true;    \r\n            state.adoptErrorMessage = action.error.message;\r\n        },\r\n        [removeAdopt.fulfilled]: (state,action)=>{\r\n            console.log(\"Remove Adopt pet fullfile state = \",state);\r\n            console.log(\"Remove Adopt pet fullfile action = \",action);\r\n           // state.adopters[action.payload.petIndex] = action.payload.adopterAddress\r\n            state.adoptInProgress = false;\r\n            state.adoptError = false\r\n        },\r\n        [removeAdopt.pending]: (state,action)=>{\r\n            console.log(\"Remove Adopt pet pending state = \",state);\r\n            console.log(\"Remove Adopt pet pending action = \",action);\r\n            state.adoptInProgress = true;\r\n        },\r\n        [removeAdopt.rejected]: (state,action)=>{\r\n            console.log(\"Remove Adopt pet rejected state = \",state);\r\n            console.log(\"Remove Adopt pet rejected action = \",action);\r\n            state.adoptInProgress = false;\r\n            state.adoptError = true;    \r\n            state.adoptErrorMessage = action.error.message;\r\n        }\r\n        \r\n    }\r\n}) ;\r\n\r\nexport const adoptReducer = adoptSlice.reducer ;\r\nexport const {adopt} = adoptSlice.actions ;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nfunction Adopters() {\r\n    const adoptersList = useSelector((state)=>{\r\n        return state.adoptReducer.adopters\r\n    })\r\n  return (\r\n    <div>\r\n        <div id=\"adopted_pet_info\">\r\n            <h3>ADOPTED PET LIST</h3>\r\n        </div>\r\n        <div>            \r\n            {\r\n               adoptersList.map((list,index) => (\r\n                list !== '0x0000000000000000000000000000000000000000' ?<div id=\"adopted_pet_info\" key={index}>Index = {index} - {list}</div>:null\r\n             ))\r\n            }    \r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Adopters;\r\n","import { useEffect } from \"react\";\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport petListJson from '../pets.json' ;\r\nimport { adopt, adoptPet, removeAdopt,loadAdopters } from \"../store/adoptSlice\";\r\nimport Adopters from \"./Adopters\";\r\n\r\nimport '../App.css';\r\n\r\nfunction PetList(){\r\n\r\n\r\n    const address = useSelector((state) => {\r\n            return state.adoptReducer.address ;\r\n    }) ;\r\n    const contract = useSelector((state) => {\r\n        return state.adoptReducer.contract ;\r\n    });\r\n\r\n    const adoptersList = useSelector((state)=>{\r\n        return state.adoptReducer.adopters\r\n      })\r\n\r\n      useEffect(() => {\r\n          setTimeout(function(){\r\n\r\n          \r\n        dispatch(loadAdopters({\r\n            contract: contract,\r\n            address:address\r\n        })) ;\r\n    },2000)\r\n    },[adoptersList])\r\n\r\n    const {adoptInProgress, adoptError, adoptErrorMessage} = useSelector((state) => {\r\n        return state.adoptReducer ;\r\n    })\r\n\r\n    const dispatch = useDispatch() ;\r\n\r\n    return(\r\n        <div id=\"pet_list\">\r\n            <div ID=\"account_info\">\r\n               Account Address :: {address}\r\n             </div>\r\n         <Adopters />\r\n         {\r\n                adoptInProgress?\r\n                <div className=\"plzWait\">              \r\n                <img src=\"images/progress.gif\" id=\"loading\"/>\r\n                </div> : null\r\n            }\r\n            {\r\n                adoptError?\r\n                <div>\r\n                <p style={{color: \"red\"}}>{adoptErrorMessage}</p>\r\n                </div> : null\r\n            }\r\n            <br />\r\n            {\r\n                petListJson.map((item) =>{\r\n                   return <div key={item.id} style={{border: \"2px solid black\",display:\"inline-block\", width: \"250px\", padding:\"20px\",margin:\"10px\"}}>\r\n                            <h1>{item.name}</h1>\r\n                            <img alt=\"140x140\" src={item.picture}  style={{width: \"200px\"}}/>\r\n\r\n                            <br/><br/>\r\n                            <div id=\"pet_info\">\r\n                            <strong>Breed</strong>: <span>{item.breed}</span><br/>\r\n                            <strong>Age</strong>: <span>{item.age}</span><br/>\r\n                            <strong>Location</strong>: <span>{item.location}</span><br/><br/>\r\n                            </div>\r\n                            {/* <div> {adoptersList[item.id]}  </div> */}\r\n                            {\r\n                            adoptersList[item.id] == \"0x0000000000000000000000000000000000000000\" ? \r\n                            <button type=\"button\" onClick={async () => {\r\n                                console.log(\"id = \",item.id) ;\r\n                                dispatch(adoptPet(item.id)) ;\r\n\r\n                                /*\r\n                                const result = await contract.methods.adopt(item.id).send({from: address}) ;\r\n                                 console.log(result) ;\r\n                                 */\r\n\r\n                            }}>Adopt</button>:<button type=\"button\" onClick={ async() => {\r\n                                    dispatch(removeAdopt(item.id)) ;\r\n                            }}>Remove Adopt</button>\r\n                            //<div>Already Adopted</div>\r\n                            }\r\n                   </div>\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PetList ;","import { useEffect } from 'react';\nimport { useDispatch, useSelector} from 'react-redux';\nimport './App.css';\nimport PetList from './components/PetList';\nimport { initWeb3, loadAdopters } from './store/adoptSlice';\n\n\nfunction App() {\n\n  const dispatch = useDispatch() ;\n\n  // const web3 = useSelector((state) => {\n  //     return state.adoptReducer.web3 ;\n  // });\n\n  const adopters = useSelector((state) => {\n    return state.adoptReducer.adopters ;\n  });\n\n  useEffect(()=>{\n    dispatch(initWeb3()) ;\n  },[]) \n\n  \n  useEffect(() => {\n    dispatch(loadAdopters()) ;\n  },[adopters])\n\n  return (\n    <div>\n        <PetList/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { adoptReducer } from \"./adoptSlice\";\r\n\r\nexport const store = configureStore({\r\n    reducer:{\r\n        adoptReducer: adoptReducer,\r\n    },\r\n    middleware:getDefaultMiddleware({\r\n        serializableCheck: false,\r\n        immutableCheck:false,\r\n\r\n        \r\n    })\r\n}) ;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\nReactDOM.render(\n  <React.StrictMode>\n  <Provider store={store}>\n      <App />\n  </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}